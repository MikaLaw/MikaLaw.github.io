var t=window.$;t(document).ready(function(){Fancybox.bind("[data-fancybox]",{Carousel:{Navigation:!1}}),Fancybox.defaults={...Fancybox.defaults,autoFocus:!1};let y=window.matchMedia("(max-width: 960px)").matches;function v(){t(".header__burger-btn").toggleClass("open"),t(".header__main-menu").toggleClass("open"),t(".page").toggleClass("page_overflow-hidden"),t(".main-menu__link").on("click",function(){t(".header__burger-btn").removeClass("open"),t(".header__main-menu").removeClass("open"),t(".page").removeClass("page_overflow-hidden")})}y?t(document).on("click",".header__burger-btn",v):t(document).off("click",".header__burger-btn",v);function C(){let c=t(".bottle-section").length;t(".bottle-section").each(function(a){let r=t(this),e=r.find('[class*="__bottle-img"]'),s,i,h,o;t(window).on("resize",function(){s=t(window).height(),i=r.offset().top,h=r.outerHeight(),o=t(".page__header").outerHeight()}).trigger("resize"),t(window).on("scroll",function(){let n=t(this).scrollTop()+o;a===0?i<=n+s/4&&i+h>n+s/2?e.addClass("visible"):e.removeClass("visible"):a===c-1?i<=n+s/2&&i+h>n+3*s/4?e.addClass("visible"):e.removeClass("visible"):i<=n+s/2&&i+h>n+s/2?e.addClass("visible"):e.removeClass("visible")})})}function H(){let c=[];t("#video-bottle link").each((a,r)=>c[a]=t(r).attr("href")),t(window).on("resize scroll",function(){let a=t("#video-bottle"),r=t(".page__header").outerHeight(),e=c.length,s=t(window).height()-r,i=e/s,h=a.offset().top,o=t(window).scrollTop()+r,n=i*(o+s-h),l=0;n>e-1?l=e-1:n>0&&(l=Math.floor(n));let d=c[l];t(".bottle-video-section__image").css("background-image","url('".concat(d,"')"))}).trigger("resize")}function T(){let c=[{class:".natural-section__stone-wrap-6",left:73.95,top:16.38},{class:".natural-section__stone-wrap-2",left:13.41,top:32.91},{class:".natural-section__stone-wrap-8",left:90.05,top:42.83},{class:".natural-section__stone-wrap-5",left:60.37,top:45.6},{class:".natural-section__stone-wrap-4",left:29.42,top:47.45},{class:".natural-section__stone-wrap-1",left:3.14,top:65.04},{class:".natural-section__stone-wrap-9",left:97.93,top:73.45},{class:".natural-section__stone-wrap-7",left:74.61,top:87.29},{class:".natural-section__stone-wrap-3",left:21.76,top:94.2}],a=function(e){return e>0?1:e<0?-1:e==0?0:NaN};function r(e,s,i,h){let o=e/2,n=s/2;var l=(i/100-.5)*e,d=(h/100-.5)*s,f=null,u=null;return d/l>=n/o?(f=100*(a(d)*n*l/d/e+.5),u=100*(a(d)*n/s+.5)):d/l<n/o&&(f=100*(a(l)*o/e+.5),u=100*(a(l)*o*d/l/s+.5)),{left:(f+3*i)/4,top:u}}t("[data-natural-section]").each(function(){let e=t(this),s=t(".page__header").outerHeight(),i=t(window).height()-s,h=e.outerWidth(),o=e.outerHeight();t(window).on("scroll",function(){let n=t(this).scrollTop()+s,l=e.offset().top,d=0;d=l>n+i-o/2?0:l<n+i/2-o/2?1:(n+i-o/2-l)/(i/2),e.find(".natural-section__logo-wrap").css({opacity:d,transform:"translate(-50%, -50%) scale("+(.5+.5*d)+")"}),e.find(".natural-section__subtitle-wrap").css({opacity:d,transform:"translate(-50%, -50%) scale("+(.5+.5*d)+")"}),e.find(".natural-section__title-wrap").css({opacity:d,transform:"translate(-50%, -50%) scale("+(.5+.5*d)+")"}),c.forEach(function(f,u){let p=0;p=l+.1*o*u>n+i-o/2?0:l<n+i/2-o/2?1:(n+i-o/2-l-.1*o*u)/(i/2-.1*o*u);let g=f.left,w=f.top,b=r(h,o,g,w).left,m=r(h,o,g,w).top;e.find(f.class).css({opacity:p,left:b+p*(g-b)+"%",top:m+p*(w-m)+"%"})})})})}function _(c,a){let r=t(c).attr(a);t(c).addClass("animate__animated animate__"+r)}function k(){t("[data-animate]").each(function(){let c=t(this);t(window).on("scroll",function(){let a=t(window).scrollTop(),r=t(window).height();c.offset().top<a+r&&t(c).each(function(){_(this,"data-animate")})}).trigger("scroll")})}function S(){let c=t(".horizontal_scroll"),a=c.find("section"),r=c.closest(".scroll_container"),e=a.length,s=a.first().height(),i=r.height()-s,h=r.offset().top,o=(e-1)*100,n=Array(e).fill(0).map((f,u)=>[u*100+50,(u+1)*100+50]),l;function d(){if(t(window).scrollTop()>=h&&t(window).scrollTop()<=h+i){let f=(t(window).scrollTop()-h)/window.innerHeight*100;f=f<0?0:f>o?o:f,c.attr("style",`transform: translate3d(${-f}vw, 0, 0);`),n.forEach(([u,p],g)=>{if(u<=f&&f<=p){if(g!==l){let w=a[g+1];_(w,"data-animate-gorizontal"),t(w).find("[data-animate-gorizontal]").each((b,m)=>{_(m,"data-animate-gorizontal")})}l=g}})}}window.addEventListener("scroll",d)}t(document).on("click","[data-scroll][href]",function(){let c=t(this).attr("href"),a=t(".page__header").outerHeight();return t("html, body").animate({scrollTop:t(c).offset().top-a+"px"},{duration:500,easing:"swing"}),!1}),S(),k(),C(),H(),T()});
